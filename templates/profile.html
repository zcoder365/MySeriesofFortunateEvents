{% extends "base.html" %}
{% block content %}
<div class="profile-info">
    <div class="profile-info-username">
        <p>Username:</p>
        <p>{{ username }}</p>
    </div>
    <div class="profile-info-streak">
        <p>Current Streak:</p>
        <p>{{ streak }}</p>
    </div>
    <div class="profile-info-entries">
        <p>Total Entries:</p>
        <p>{{ num_entries }}</p>
    </div>
</div>

<div class="charts-container">
    <div class="chart-block">
        <h3 style="text-align:center;">This Week's Ratings</h3>
        <canvas id="ratingsChart" aria-label="Bar chart of entry ratings" role="img"></canvas>
    </div>
    <div class="chart-block">
        <h3 style="text-align:center;">This Month's Ratings</h3>
        <canvas id="ratingsChartMonth" aria-label="Bar chart of entry ratings for the month" role="img"></canvas>
    </div>
</div>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    window.chartLabels = {{ chart_labels|tojson | safe }};
    window.chartData = {{ chart_data|tojson | safe }};
    window.chartLabelsMonth = {{ chart_labels_month|tojson | safe }};
    window.chartDataMonth = {{ chart_data_month|tojson | safe }};
</script>
<script src="{{ url_for('static', filename='ratingsChart.js') }}"></script>
<script src="{{ url_for('static', filename='ratingsChartMonth.js') }}"></script>
{% endblock %}